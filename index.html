<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Ù†Ø§ÙˆÙ„Ø³ØªØ§Ù† - Ù¾Ø±ÛŒÙ…ÛŒÙ… Ù¾ÙˆØ±Ù¹Ù„</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg: #0a0e27; --card: #1a1f3a; --accent: #ff0a54; 
            --accent2: #00d9ff; --text: #ffffff; --success: #2ed573;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Noto Nastaliq Urdu', serif; background: var(--bg); color: var(--text); min-height: 100vh; line-height: 1.6; }
        .container { max-width: 500px; margin: 0 auto; padding: 15px; }
        
        /* Header */
        .header { text-align: center; border-bottom: 3px solid var(--accent); border-radius: 0 0 30px 30px; margin-bottom: 25px; background: var(--card); overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.5); }
        .header-cover { width: 100%; height: 180px; object-fit: cover; }
        .header h1 { font-size: 2.2rem; padding: 10px; }

        /* Menu */
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .nav-btn { background: var(--card); border-radius: 18px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); cursor: pointer; text-align: center; transition: 0.3s; }
        .nav-btn img { width: 100%; height: 110px; object-fit: cover; }
        .nav-btn h3 { padding: 10px; font-size: 1rem; }

        /* List Styling */
        .items-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .card { background: #1a1f3a; padding: 15px 10px; border-radius: 12px; text-align: center; border: 1px solid #3a3f5a; cursor: pointer; position: relative; }
        .card.locked { border: 1px dashed var(--accent); opacity: 0.8; }
        
        .btn-back { background: var(--accent); color: #fff; border: none; padding: 12px; width: 100%; border-radius: 10px; margin-bottom: 15px; cursor: pointer; font-family: inherit; font-weight: bold; }

        /* Puzzle & Modals */
        .puzzle-box { background: linear-gradient(135deg, #1a1f3a 0%, #0a0e27 100%); padding: 20px; border-radius: 20px; text-align: center; border: 1px solid var(--accent2); }
        .ep-box { background: rgba(46, 213, 115, 0.1); border: 2px dashed var(--success); padding: 15px; border-radius: 15px; margin: 15px 0; }
        .timer-circle { width: 85px; height: 85px; border-radius: 50%; border: 5px solid var(--accent); line-height: 75px; font-size: 30px; margin: 0 auto 15px; color: var(--accent); font-weight: bold; }

        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); justify-content: center; align-items: center; z-index: 1000; padding: 20px; }
        .modal.active { display: flex; }
        .modal-box { background: #1a1f3a; padding: 25px; border-radius: 20px; width: 100%; max-width: 350px; text-align: center; border: 2px solid var(--accent); }
        .btn-wa { background: #16a34a; color: #fff; text-decoration: none; padding: 12px; border-radius: 10px; display: block; margin: 10px 0; font-weight: bold; }
        input { width: 100%; padding: 12px; margin: 10px 0; background: #000; color: #fff; border: 1px solid var(--accent2); border-radius: 8px; text-align: center; }

        footer { text-align: center; padding: 20px; opacity: 0.5; font-size: 0.8rem; }
    </style>
</head>
<body>

    <div id="home-screen" class="container">
        <header class="header">
            <img src="https://drive.google.com/thumbnail?id=18SlPABsEdm_mndblVL9xHUwCARh6ye7x&sz=w800" class="header-cover">
            <h1>Ù†Ø§ÙˆÙ„Ø³ØªØ§Ù†</h1>
        </header>
        <div class="menu-grid">
            <div class="nav-btn" onclick="openSection('novel')">
                <img src="https://drive.google.com/thumbnail?id=1A6cQPJd5qacANztlmKyU6a5xiKgNAUuz&sz=w400">
                <h3>ğŸ“– ØªÙ…Ø§Ù… Ù†Ø§ÙˆÙ„</h3>
            </div>
            <div class="nav-btn" onclick="openSection('puzzle')">
                <img src="https://drive.google.com/thumbnail?id=11c5Imzwd7sOJ_yEL6gvgDQy85WW0Mvsi&sz=w400">
                <h3>ğŸ® Ù¾Ø²Ù„ Ú¯ÛŒÙ…</h3>
            </div>
            <div class="nav-btn" onclick="openSection('poetry')">
                <img src="https://drive.google.com/thumbnail?id=1jeO58Sf8-w5fx5SPQZG8LqJjm7QfPHTe&sz=w400">
                <h3>ğŸ“œ Ø§Ø±Ø¯Ùˆ Ø´Ø§Ø¹Ø±ÛŒ</h3>
            </div>
            <div class="nav-btn" onclick="openSection('about')">
                <img src="https://drive.google.com/thumbnail?id=1bAfC0S2euvxZQKuawj_nVQGOiK9S41N7&sz=w400">
                <h3>ğŸ‘¤ Ù…ØµÙ†Ù</h3>
            </div>
        </div>
    </div>

    <div id="content-screen" class="container" style="display:none;">
        <button class="btn-back" onclick="goHome()">ğŸ  ÛÙˆÙ… Ù¾ÛŒØ¬</button>
        <h2 id="section-title" style="text-align:center; margin-bottom:15px;"></h2>
        <div id="items-list" class="items-grid"></div>
    </div>

    <div id="puzzle-screen" class="container" style="display:none;">
        <button class="btn-back" onclick="goHome()">ğŸ  ÛÙˆÙ… Ù¾ÛŒØ¬</button>
        <div id="puzzle-intro" class="puzzle-box">
            <h2>ğŸ® Ù¾Ø²Ù„ Ú†ÛŒÙ„Ù†Ø¬</h2>
            <div class="ep-box">
                ÙÛŒØ³: 50 Ø±ÙˆÙ¾Û’ | Ù†Ø§Ù…: <b>Yadullah</b><br>
                Ù†Ù…Ø¨Ø±: <b style="color:var(--success)">03359079528</b>
            </div>
            <button onclick="requestPuzzleCode()" style="background:var(--success); color:white; padding:15px; width:100%; border-radius:10px; border:none; font-weight:bold; cursor:pointer;">âœ… ÙÛŒØ³ Ø¨Ú¾ÛŒØ¬ Ø¯ÛŒ ÛÛ’</button>
            <div id="puzzle-code-area" style="display:none; margin-top:20px;">
                <p>ÙˆØ§Ù¹Ø³ Ø§ÛŒÙ¾ Ù¾Ø± Ø§Ø³Ú©Ø±ÛŒÙ† Ø´Ø§Ù¹ Ø¨Ú¾ÛŒØ¬ÛŒÚº:</p>
                <a id="puzzle-wa" href="#" class="btn-wa" target="_blank">ÙˆØ§Ù¹Ø³ Ø§ÛŒÙ¾ Ø§Ø³Ú©Ø±ÛŒÙ† Ø´Ø§Ù¹</a>
                <input type="text" id="puzzle-entry-code" placeholder="Ú¯ÛŒÙ… Ú©ÙˆÚˆ ÛŒÛØ§Úº Ù„Ú©Ú¾ÛŒÚº">
                <button onclick="validatePuzzleCode()" style="background:var(--accent2); color:black; width:100%; padding:12px; border-radius:8px; border:none; font-weight:bold;">ğŸ® Ú¯ÛŒÙ… Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº</button>
            </div>
        </div>
        <div id="game-play" class="puzzle-box" style="display:none;">
            <div class="timer-circle" id="timer">00</div>
            <div id="question-text" style="background:rgba(0,0,0,0.3); padding:15px; border-radius:10px; margin-bottom:20px;"></div>
            <div id="options-container"></div>
        </div>
    </div>

    <div id="lock-modal" class="modal">
        <div class="modal-box">
            <h2 id="lock-header">ğŸ”’ Ù„Ø§Ú©</h2>
            <div class="ep-box">EasyPaisa: 03359079528<br>Name: <b>Yadullah</b></div>
            <a id="lock-wa-link" href="#" class="btn-wa" target="_blank">ÙˆØ§Ù¹Ø³ Ø§ÛŒÙ¾ Ø§Ø³Ú©Ø±ÛŒÙ† Ø´Ø§Ù¹</a>
            <input type="text" id="manual-code" placeholder="Ø§Ù† Ù„Ø§Ú© Ú©ÙˆÚˆ Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚº">
            <button onclick="unlockContent()" style="background:var(--accent2); color:black; width:100%; padding:12px; border-radius:8px; border:none; font-weight:bold;">ğŸ”“ Ø§Ù† Ù„Ø§Ú© Ú©Ø±ÛŒÚº</button>
            <p onclick="closeModals()" style="margin-top:15px; cursor:pointer; color:var(--accent);">âŒ Ø¨Ù†Ø¯ Ú©Ø±ÛŒÚº</p>
        </div>
    </div>

    <script>
        // --- Ø³ÛŒÙ¹Ù†Ú¯Ø² Ø§ÙˆØ± ÙØ§Ø±Ù…ÙˆÙ„Û’ ---
        const EP_NAME = "Yadullah";
        const WA_NUM = "923159226260";
        const START_TIME = 20; // Ø±Ø§Øª 8 Ø¨Ø¬Û’
        const END_TIME = 23;   // Ø±Ø§Øª 11 Ø¨Ø¬Û’

        // Ù†Ø§ÙˆÙ„ Ú©Ø§ Ù¾Ø±Ø§Ù†Ø§ ÙØ§Ø±Ù…ÙˆÙ„Ø§ (Ø§Ù¾Ù†Ø§ Ø¨ÛŒØ³ Ù„Ù†Ú© ÛŒÛØ§Úº Ù„Ú©Ú¾ÛŒÚº)
        const NOVEL_BASE_URL = "https://your-old-formula-link.com/file?id="; 
        
        // Ú¯ÙˆÚ¯Ù„ Ø´ÛŒÙ¹ Ú©Ø§ Ù„Ù†Ú© Ù¾Ø²Ù„ Ú©Û’ Ù„ÛŒÛ’
        const PUZZLE_SHEET_CSV = "YOUR_GOOGLE_SHEET_CSV_LINK_HERE";

        let unlockedSet = JSON.parse(localStorage.getItem('unlocked_items')) || [];
        let currentLockID = "";

        function goHome() { location.reload(); }

        function openSection(mode) {
            document.querySelectorAll('.container').forEach(c => c.style.display = 'none');
            if (mode === 'puzzle') {
                const hour = new Date().getHours();
                if (hour < START_TIME || hour >= END_TIME) {
                    alert(`Ù¾Ø²Ù„ Ú¯ÛŒÙ… ØµØ±Ù Ø±Ø§Øª 8 Ø³Û’ 11 Ø¨Ø¬Û’ ØªÚ© Ø¯Ø³ØªÛŒØ§Ø¨ ÛÛ’Û”`);
                    location.reload();
                    return;
                }
                document.getElementById('puzzle-screen').style.display = 'block';
            } else if (mode === 'about') {
                alert("Ù…ØµÙ†Ù: Yadullah\nØ§ÛŒØ²ÛŒ Ù¾ÛŒØ³Û: 03359079528\nÙ†Ø§ÙˆÙ„Ø³ØªØ§Ù† Ù¾ÙˆØ±Ù¹Ù„ Ú©Ø§ Ø¨Ø§Ù†ÛŒÛ”");
                location.reload();
            } else {
                document.getElementById('content-screen').style.display = 'block';
                document.getElementById('section-title').innerText = mode === 'novel' ? "ğŸ“– ØªÙ…Ø§Ù… Ù†Ø§ÙˆÙ„Ø²" : "ğŸ“œ Ø§Ø±Ø¯Ùˆ Ø´Ø§Ø¹Ø±ÛŒ";
                renderGrid(mode);
            }
        }

        function renderGrid(mode) {
            const list = document.getElementById('items-list');
            list.innerHTML = "";
            for (let i = 1; i <= 100; i++) {
                let isFree = i <= 5 || unlockedSet.includes(mode + i);
                const div = document.createElement('div');
                div.className = `card ${isFree ? '' : 'locked'}`;
                div.innerHTML = `${mode === 'novel' ? 'Ù‚Ø³Ø·' : 'Ø´Ø§Ø¹Ø±ÛŒ'} ${i}<br><small>${isFree ? 'ğŸ”“ Ø§ÙˆÙ¾Ù†' : 'ğŸ”’ Ù„Ø§Ú©'}</small>`;
                div.onclick = () => isFree ? openItem(mode, i) : showLock(mode, i);
                list.appendChild(div);
            }
        }

        function openItem(mode, num) {
            // Ø¢Ù¾ Ú©Ø§ Ù¾Ø±Ø§Ù†Ø§ ÙØ§Ø±Ù…ÙˆÙ„Ø§ ÛŒÛØ§Úº Ù„Ù†Ú© Ø¨Ù†Ø§Ø¦Û’ Ú¯Ø§
            window.open(NOVEL_BASE_URL + mode + "_" + num, "_blank");
        }

        function showLock(mode, num) {
            currentLockID = mode + num;
            document.getElementById('lock-header').innerText = `ğŸ”’ Ù„Ø§Ú© ${mode} ${num}`;
            document.getElementById('lock-wa-link').href = `https://wa.me/${WA_NUM}?text=Ù…ÛŒÚº Ù†Û’ ${mode} ${num} Ú©ÛŒ ÙÛŒØ³ Ø¨Ú¾ÛŒØ¬ Ø¯ÛŒ ÛÛ’ØŒ Ú©ÙˆÚˆ Ø¯ÛŒÚºÛ”`;
            document.getElementById('lock-modal').classList.add('active');
        }

        function unlockContent() {
            const code = document.getElementById('manual-code').value;
            if(code === "786") { // Ø¢Ù¾ Ú©Ø§ Ù…Ø®ØµÙˆØµ Ú©ÙˆÚˆ
                unlockedSet.push(currentLockID);
                localStorage.setItem('unlocked_items', JSON.stringify(unlockedSet));
                alert("Ø§Ù† Ù„Ø§Ú© ÛÙˆ Ú¯ÛŒØ§!");
                closeModals();
                renderGrid(currentLockID.includes('novel') ? 'novel' : 'poetry');
            } else { alert("ØºÙ„Ø· Ú©ÙˆÚˆ!"); }
        }

        function requestPuzzleCode() {
            document.getElementById('puzzle-code-area').style.display = 'block';
            document.getElementById('puzzle-wa').href = `https://wa.me/${WA_NUM}?text=Ù¾Ø²Ù„ Ú¯ÛŒÙ… Ú©Ø§ Ú©ÙˆÚˆ Ø¯Û’ Ø¯ÛŒÚºÛ” ÙÛŒØ³ Ø¨Ú¾ÛŒØ¬ Ø¯ÛŒ ÛÛ’Û”`;
        }

        function validatePuzzleCode() {
            if(document.getElementById('puzzle-entry-code').value === "99") {
                document.getElementById('puzzle-intro').style.display = 'none';
                document.getElementById('game-play').style.display = 'block';
                startPuzzleGame();
            } else { alert("ØºÙ„Ø· Ú¯ÛŒÙ… Ú©ÙˆÚˆ!"); }
        }

        // Ù¾Ø²Ù„ Ú¯ÛŒÙ… Ú©Ø§ Ù…Ù†Ø·Ù‚ÛŒ Ø­ØµÛ (Ú¯ÙˆÚ¯Ù„ Ø´ÛŒÙ¹ Ø³Û’ ÚˆÛŒÙ¹Ø§ Ù„ÛŒÙ†Û’ Ú©Û’ Ù„ÛŒÛ’ ØªÛŒØ§Ø±)
        function startPuzzleGame() {
            // ÛŒÛØ§Úº Ø¢Ù¾ Ú¯ÙˆÚ¯Ù„ Ø´ÛŒÙ¹ Ø³Û’ fetch Ø¨Ú¾ÛŒ Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚºØŒ ÙÛŒ Ø§Ù„Ø­Ø§Ù„ ÚˆÛŒÙ…Ùˆ Ø³ÙˆØ§Ù„Ø§Øª:
            const questions = [
                {q: "Ø§Ø±Ø¯Ùˆ Ú©Ø§ Ù¾ÛÙ„Ø§ Ù†Ø§ÙˆÙ„ Ù†Ú¯Ø§Ø±ØŸ", opts: ["ÚˆÙ¾Ù¹ÛŒ Ù†Ø°ÛŒØ±", "Ø³Ø±Ø´Ø§Ø±", "Ø±Ø³ÙˆØ§"], ans: "ÚˆÙ¾Ù¹ÛŒ Ù†Ø°ÛŒØ±"}
            ];
            loadQuestion(questions[0]);
        }

        function loadQuestion(qObj) {
            document.getElementById('question-text').innerText = qObj.q;
            document.getElementById('options-container').innerHTML = qObj.opts.map(opt => 
                `<button style="background:#2d2d3a; color:white; width:100%; padding:12px; margin:5px 0; border-radius:10px; border:1px solid #444;" onclick="checkPuzzleAns('${opt}', '${qObj.ans}')">${opt}</button>`
            ).join('');
            
            let timeLeft = 60;
            const timerEl = document.getElementById('timer');
            const interval = setInterval(() => {
                timeLeft--;
                timerEl.innerText = timeLeft;
                if(timeLeft <= 0) { clearInterval(interval); alert("ÙˆÙ‚Øª Ø®ØªÙ…!"); location.reload(); }
            }, 1000);
        }

        function closeModals() { document.getElementById('lock-modal').classList.remove('active'); }
    </script>
</body>
</html>
